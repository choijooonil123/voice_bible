<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>성경 구절 음성 재생(화면 동기화)</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; line-height:1.6; padding:20px; }
    .row { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px; }
    input, button { padding:10px 12px; font-size:16px; }
    button { cursor:pointer; border-radius:10px; border:1px solid #ccc; background:#f8f8f8; }
    button.primary { background:#1f6feb; color:#fff; border-color:#1f6feb; }
    .muted { color:#666; font-size:14px; }
    .field { display:flex; align-items:center; gap:6px; }

    /* 읽기 동기화 스타일 */
    #output { background:#f5f7fb; padding:16px; border-radius:12px; max-height:60vh; overflow:auto; }
    .line { margin:6px 0; padding:6px 8px; border-radius:8px; }
    .line.reading { background:#eef3ff; }
    .tok { opacity:.28; transition:opacity .06s linear, background-color .06s linear; white-space:pre; }
    .tok.on { opacity:1; }
    .tok.cur { background-color:rgba(31,111,235,0.18); border-radius:6px; }
    .sep { opacity:.5; white-space:pre; } /* 구두점/공백 등 */
    .controls { display:flex; gap:20px; align-items:center; }
  </style>
</head>
<body>
  <h1>성경 구절 음성 재생 (화면 동기화)</h1>

  <!-- Enter 로 실행 -->
  <form id="lookupForm" class="row" autocomplete="off">
    <input id="refInput" name="ref" style="min-width:320px; flex:1"
           placeholder="예) 요한복음 3:16~18, 요 3:16~4:2, (한 번 책 입력 후) 3:16" />
    <button id="btnSpeak" class="primary" type="submit">읽기 시작</button>
    <button id="btnStop" type="button">정지</button>
  </form>

  <div class="controls">
    <div class="field">
      <label for="rateRange">속도</label>
      <input id="rateRange" type="range" min="0.7" max="1.4" step="0.05" value="1.0" />
      <span id="rateVal" class="muted">1.00</span>
    </div>
    <div class="field">
      <label for="pitchRange">피치</label>
      <input id="pitchRange" type="range" min="0.7" max="1.4" step="0.05" value="1.0" />
      <span id="pitchVal" class="muted">1.00</span>
    </div>
  </div>

  <div id="output" class="muted">예: "요한복음 3:16~18", "요 3:16~4:2", (처음 한 번 책을 포함해 입력 후) "3:16"</div>

  <script src="./js/app.js"></script>
</body>
</html>
